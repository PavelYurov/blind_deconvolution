# Исследование методов Blind Image Deconvolution

## Описание проекта

Данный проект посвящен исследованию методов слепой деконволюции (blind deconvolution) с интегрированной системой автоматической оптимизации гиперпараметров. Основное внимание уделяется разработке и сравнению алгоритмов, способных восстанавливать исходное изображение без априорной информации о функции искажения. Проект обеспечивает комплексное исследование алгоритмов с систематической оценкой качества восстановления и подбором оптимальных гиперпараметров.

### Цель исследования

Разработка, сравнительный анализ предельных возможностей методов слепой деконволюции и выявление наиболее эффективных подходов для восстановления изображений, искаженных различными типами размытия и шумов.

### Основные задачи

- **Разработка системы автоматического подбора гиперпараметров** для методов слепой деконволюции
- **Разработка пайплайна** генерации реалистичных искажений изображений
- **Реализация и сравнение** классических и современных методов восстановления
- **Построение многомерных Парето-фронтов** для анализа компромиссов между качеством и производительностью
- **Систематическая оценка** устойчивости алгоритмов к шумам и смазам

## Функциональность фреймворка

### Обработка изображений

- Поддержка монохромных и цветных изображений (JPEG, BMP, PNG)
- Пакетная обработка групп изображений
- Автоматизация экспериментального конвейера

### Генерация искажений

- **Типы размытия**:
  - Расфокус (2D гауссово ядро)
  - Motion blur (1D линейное ядро)
  - Комбинированные смазы (B-spline траектории)
- **Типы шумов**:
  - Гауссов шум
  - Пуассонов шум
  - Импульсный шум (salt & pepper)
  - Цветные шумы (1/f)

### Методы восстановления

- **Классические алгоритмы** (blind deconvolution) и регуляризационные подходы
- **Оценка ядра размытия** (kernel estimation): слепые методы оценки PSF
- **Non-blind deconvolution**: восстановление с известным ядром

## Система оценки

- **Метрики качества**: PSNR, SSIM
- **Производительность**: время выполнения

## Автоматическая оптимизация гиперпараметров

### Методы оптимизации

- **Байесовская оптимизация** c Gаussіаn Рrосеssеs
- **Эвoлюциoнныe aлгopитмы**  (Gеnеtіс Аlgоrіthms)
- **Случайный поиск** с адаптивным распределением

### Оптимизируемые параметры

Для каждого алгоритма определено пространство поиска гиперпараметров:
- **Регуляризационные параметры**
- **Количество итераций** и пороги сходимости
- **Размеры ядер** размытия
- **Параметры шумоподавления**

## Визуализация

### Многомерные Парето-фронты

- **3D визуализация**: качество, сложность смаза, уровень шума
- **Сравнительный анализ** производительности алгоритмов
- **Анализ чувствительности** параметров к различным типам искажений

## Установка

```bash
git clone https://github.com/PavelYurov/BlindDeconvolution.git
cd BlindDeconvolution
pip install -r requirements.txt
```

## Структура проекта

```
BlindDeconvolution/
├── algorithms/                 # Алгоритмы и обёртки
│   ├── base.py                 # DeconvolutionAlgorithm
│   ├── implementations/        # Собственные реализации методов
│   ├── kernel_estimation/      # Оценка PSF (заготовка/в процессе)
│   ├── blind_deconvolution/    # Внешние обёртки (blind)
│   ├── nonblind_deconvolution/ # Внешние обёртки (non-blind)
│   └── unsorted/               # Алгоритмы в доработке/на разбор
│
├── filters/                    # Генерация искажений
│   ├── base.py                 # FilterBase
│   ├── blur.py                 # Размытие
│   ├── noise.py                # Шумы
│   ├── denoise.py              # Шумоподавление
│   └── distributions.py        # PSF-функции
│
├── extensions/                 # Расширения
│   ├── hyperparameter_optimization.py
│   └── pareto_analysis.py
│
├── experiments/                # Тестирование алгоритмов и подбор гиперпараметров
├── scripts/                    # Вспомогательные скрипты
│   ├── kernel_generator.py     # Генератор ядер размытия (PSF)
│   └── dataset_generator.py    # Генератор датасета
├── docs/                       # Документация (Sphinx) и утилиты сборки
│   ├── conf.py
│   ├── index.rst
│   ├── build_docs.py
│   └── check_environment.py
│
├── processing/                 # Основной функционал пайплайна
├── pareto_analysis/            # Анализ Парето-фронтов
├── dataset/                    # Данные/артефакты (если используются)
├── images/                     # Примеры изображений/артефакты
├── testing/                    # Тестовые наборы/выходы прогонов
│
├── requirements.txt            # Зависимости
├── pyproject.toml              # Метаданные проекта
└── setup.cfg                   # Конфигурация flake8
```

Подробнее об алгоритмах: [Путеводитель по алгоритмам](algorithms/README.md)

## Качество кода

В проекте настроен линтер **flake8** для проверки стиля и качества Python-кода. Конфигурация находится в файле `setup.cfg`.

**Локальная работа:**
1.  Установите зависимости: `pip install flake8 pre-commit`
2.  Для ручного запуска проверки выполните в корне проекта: `flake8`
3.  Для автоматической проверки перед каждым коммитом выполните: `pre-commit install`

**Интеграция с IDE:**
Настройте свою среду разработки (PyCharm, VS Code и т.д.) на использование виртуального окружения проекта и чтение `setup.cfg`, чтобы видеть предупреждения линтера прямо в редакторе.

**На сервере (CI):**
При каждом push в репозиторий CI-система запускает те же проверки `flake8`, чтобы поддерживать основную ветку (`main`/`master`) в чистоте.

## Документация

Документация проекта генерируется с помощью **Sphinx**.

### Генерация HTML-документации

```bash
python docs/build_docs.py
```
Документация будет доступна в `docs/_build/html/index.html`.

## Авторы

Руководитель проекта - Парфенов Д.В. (promasterden@yandex.ru)

Участники проекта:

- Юров П.И. (pavel.yurov0425@gmail.com)
- Беззаборов А.А. (antonbezzaborov929@gmail.com)
- Куропатов К.Л. (konstantinkuropatov@gmail.com)
- Малыш Я.В. (mrgeroixyu@gmail.com)
